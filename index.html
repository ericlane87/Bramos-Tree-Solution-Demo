<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bramos Tree Solution | Charlotte NC Tree Service</title>

<!-- Tree Favicon -->
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/808/808569.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#0b0b0b;color:#fff;overflow-x:hidden;}

/* HEADER */
header{
  background:rgba(0,0,0,0.7);
  backdrop-filter:blur(8px);
  padding:15px 0;
  position:sticky;
  top:0;
  z-index:1000;
}
.container{
  width:92%;
  max-width:1200px;
  margin:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.logo{
  font-size:1.8em;
  font-weight:800;
  color:#00ff64;
  text-shadow:0 0 10px #00ff64;
}
nav ul{list-style:none;display:flex;gap:25px;}
nav a{color:#fff;text-decoration:none;font-weight:500;transition:0.3s;}
nav a:hover{color:#00ff64;text-shadow:0 0 10px #00ff64;}

.hamburger{display:none;flex-direction:column;gap:6px;cursor:pointer;}
.hamburger span{width:28px;height:3px;background:#00ff64;}

/* HERO */
.hero{
  height:85vh;
  background:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.hero::after{
  content:'';
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.5);
  z-index:1;
}
.hero-content{
  position:relative;
  z-index:5;
  text-align:center;
  padding:20px;
  animation:fadeIn 1.5s ease;
}
.hero h1{
  font-size:3rem;
  font-weight:800;
  text-shadow:0 0 15px #00ff64;
}
.hero p{
  margin:15px 0;
  font-size:1.2rem;
  opacity:0.9;
}

/* HERO BUTTON */
.btn{
  margin-top:10px;
  background:linear-gradient(90deg,#00ff64,#009944);
  padding:15px 28px;
  border:none;
  font-size:1.1rem;
  font-weight:600;
  color:#000;
  border-radius:8px;
  cursor:pointer;
  box-shadow:0 0 20px #00ff64;
  transition:0.3s;
  position:relative;
  z-index:20;
}
.btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 30px #00ff64;
}

/* SECTIONS */
section{padding:70px 0;text-align:center;}
h2{
  font-size:2.2rem;
  font-weight:700;
  margin-bottom:25px;
  color:#00ff64;
  text-shadow:0 0 10px #00ff64;
}

/* WORK GRID */
.grid{
  width:90%;
  max-width:1100px;
  margin:auto;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:25px;
}
.placeholder-box{
  width:100%;
  height:200px;
  background:#1d1d1d;
  border:2px dashed #00ff64;
  border-radius:12px;
  box-shadow:0 0 15px rgba(0,255,100,0.2);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.1rem;
  color:#00ff64;
  opacity:0.7;
  transition:.3s;
}
.placeholder-box:hover{
  opacity:1;
  transform:scale(1.03);
  box-shadow:0 0 25px #00ff64;
}
.placeholder-box::after{content:"Image Placeholder";}

/* FOOTER */
footer{
  background:#111;
  padding:25px 0;
  text-align:center;
  margin-top:50px;
  border-top:1px solid #00ff64;
}

/* CHAT WIDGET */
.chat-widget{
  position:fixed;
  bottom:20px !important;
  right:20px !important;
  width:320px;
  background:#111;
  border:1px solid #00ff64;
  border-radius:12px;
  box-shadow:0 0 25px rgba(0,255,100,0.4);
  overflow:hidden;
  z-index:900;
  transition:0.3s ease;
}
.chat-widget.minimized{
  height:55px;
  width:150px;
  cursor:pointer;
  overflow:hidden;
}
.chat-header{
  background:#00ff64;
  color:#000;
  padding:12px;
  font-weight:700;
  text-align:center;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.chat-header button{
  background:#000;
  color:#00ff64;
  border:none;
  font-weight:800;
  cursor:pointer;
  padding:3px 8px;
  border-radius:5px;
}

.chat-body{
  height:250px;
  overflow-y:auto;
  padding:12px;
}
.chat-input{display:flex;}
.chat-input input{
  flex:1;
  padding:12px;
  background:#222;
  border:none;
  color:#fff;
}
.chat-input button{
  background:#00ff64;
  border:none;
  padding:12px 18px;
  cursor:pointer;
  font-weight:600;
}

/* Chat CTA Button (inside chat) */
.chat-cta{
  display:inline-block;
  margin-top:10px;
  padding:10px 15px;
  background:#00ff64;
  color:#000;
  font-weight:700;
  border-radius:8px;
  cursor:pointer;
  text-align:center;
  box-shadow:0 0 12px #00ff64;
  transition:0.3s;
}
.chat-cta:hover{
  background:#00cc50;
  box-shadow:0 0 18px #00ff64;
}

/* Fade */
@keyframes fadeIn{
  from{opacity:0;transform:translateY(20px);}
  to{opacity:1;transform:translateY(0);}
}

/* MOBILE NAV */
@media(max-width:768px){
  nav{
    display:none;
    flex-direction:column;
    background:#000;
    position:absolute;
    top:60px;
    right:0;
    width:200px;
    padding:20px;
  }
  nav.open{display:flex;}
  .hamburger{display:flex;}
}
</style>
</head>

<body>

<header>
  <div class="container">
    <div class="logo">BRAMOS TREE</div>

    <nav id="nav">
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="#work">Our Work</a></li>
        <li><a href="contact.html">Get Quote</a></li>
      </ul>
    </nav>

    <div class="hamburger" id="hamburger">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

<section class="hero" id="home">
  <div class="hero-content">
    <h1>Charlotte’s Most Trusted Tree Experts</h1>
    <p>Young • Professional • Fully Insured • Free Estimates</p>

    <button class="btn" onclick="window.location.href='contact.html'">
      Get a Free Quote
    </button>

  </div>
</section>

<section>
  <h2>Professional. Fast. Reliable.</h2>
  <p style="max-width:850px;margin:auto;font-size:1.1rem;opacity:0.9;">
    Bramos Tree Solution is a young, modern, high-energy tree service company serving all of Charlotte, NC.
    We specialize in safe tree removal, trimming, stump grinding, and emergency storm cleanup — with top-tier customer service.
  </p>
</section>

<section id="work">
  <h2>Our Work</h2>
  <div class="grid">
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
  </div>
</section>

<footer>
  <p>Bramos Tree Solution • Charlotte, NC • (704) 641-2888</p>
  <p>© 2025 Bramos Tree Solution</p>
</footer>

<!-- CHAT BOT -->
<div class="chat-widget minimized" id="chatWidget">
  <div class="chat-header">
    <span>Ask A Question</span>
    <button id="toggleChat">-</button>
  </div>

  <div class="chat-body" id="chatBody"></div>

  <div class="chat-input">
    <input type="text" id="chatInput" placeholder="Ask something…">
    <button id="chatSend">Send</button>
  </div>
</div>

<script>
// NAV
document.getElementById('hamburger').onclick = () =>
  document.getElementById('nav').classList.toggle('open');

// CHAT WIDGET
const chatWidget = document.getElementById('chatWidget');
const toggleChat = document.getElementById('toggleChat');
const chatBody   = document.getElementById('chatBody');
const chatInput  = document.getElementById('chatInput');
const chatSend   = document.getElementById('chatSend');

chatWidget.classList.add('minimized');
toggleChat.onclick = () => chatWidget.classList.toggle('minimized');

setTimeout(()=>chatWidget.classList.remove('minimized'),1200);
setTimeout(()=>chatWidget.classList.add('minimized'),4200);

// SIMPLE "MEMORY"
const memory = {
  lastTopic: null,   // 'trees', 'stumps', 'location', etc.
  trees: null,
  stumps: null,
  city: null
};

// TRACK HOW OFTEN CATCH-ALL HITS IN A ROW
let catchAllCounter = 0;

// PRICE RESPONSE WITH CTA (ONLY USED ON MONEY QUESTIONS)
const priceResponse =
  "We provide FREE estimates. A team member will get back to you shortly.<br><br>" +
  "<div class='chat-cta' onclick=\"window.location.href='contact.html'\">Get a Free Quote</div>";

// SMART PRICE INTENT DETECTION
function isPriceIntent(msg) {
  const text = msg.toLowerCase();

  const priceWords = [
    "quote","estimate","price","cost","how much","budget",
    "expensive","cheap","affordable","rate","rates","fee","fees",
    "charge","charges","dollars","bucks"
  ];

  for (const w of priceWords) {
    if (text.includes(w)) return true;
  }

  // contains a dollar sign
  if (text.includes("$")) return true;

  // number with tree/stump context
  const hasNumber = /\b\d+\b/.test(text);
  if (hasNumber && (text.includes("tree") || text.includes("stump"))) {
    return true;
  }

  return false;
}

// RULE ENGINE (NO CTA INSIDE RULES – CTA ONLY FROM PRICE INTENT)
const rules = [

  // TREE REMOVAL
  {
    keywords:["remove","tree removal","cut down"],
    topic:"trees",
    response:"We offer safe, insured tree removal. How many trees are you dealing with?"
  },

  // TRIMMING
  {
    keywords:["trim","trimming","prune","shaping"],
    topic:"trees",
    response:"We provide professional trimming and shaping. Are you trimming one tree or several?"
  },

  // STUMPS
  {
    keywords:["stump","grind","grinding"],
    topic:"stumps",
    response:"We grind stumps below ground level. How many stumps do you have?"
  },

  // SERVICE / SERVICES
  {
    keywords:[
      "service",
      "services",
      "tree service",
      "tree services",
      "what do you do",
      "what services do you offer",
      "your services",
      "types of work",
      "list of services",
      "do you do tree service"
    ],
    topic:"services",
    response:"We offer tree removal, trimming, stump grinding, and 24/7 emergency storm cleanup. What type of project do you need help with?"
  },

  // STORM / EMERGENCY
  {
    keywords:["storm","fallen","emergency","wind"],
    topic:"emergency",
    response:"We offer 24/7 storm cleanup. Did the tree fall on anything or block a driveway?"
  },

  // INSURANCE
  {
    keywords:["insured","insurance","licensed","bonded"],
    topic:"insurance",
    response:"Yes — we are fully insured for residential and commercial projects."
  },

  // SERVICE AREA (GENERAL)
  {
    keywords:["area","location","service area","serve","where","located","near","around"],
    topic:"location",
    response:"We service Charlotte, Matthews, Mint Hill, Pineville, Concord, Harrisburg, and nearby areas."
  },

  // CITY NAMES
  {
    keywords:["charlotte","matthews","mint hill","pineville","concord","harrisburg"],
    topic:"location",
    response:"Yes, we service your area and most of the greater Charlotte region."
  },

  // HOURS / AVAILABILITY
  {
    keywords:["hours","open","close","availability","available","when open","time open","time close"],
    topic:"hours",
    response:"We’re available 24/7 for all tree work and storm emergencies."
  },

  // SCHEDULING
  {
    keywords:["schedule","time","when","day","tomorrow","today"],
    topic:"schedule",
    response:"We’re flexible and can usually work around your schedule. What day works best for you?"
  },

  // FOLLOW-UP CONFIRMATIONS
  {
    keywords:["yes","yeah","yep","ok","okay","sure"],
    topic:"confirm",
    response:"Got it — thanks! What else can you tell me about the job?"
  },

  // PHONE
  {
    keywords:["call","phone"],
    topic:"phone",
    response:"You can reach us anytime at (704) 641-2888."
  },

  // GREETINGS
  {
    keywords:["hello","hi","hey"],
    topic:"greeting",
    response:"Hi there! How can we help with your trees today?"
  }
];

function capitalize(str){
  return str.charAt(0).toUpperCase() + str.slice(1);
}

// MEMORY-BASED FOLLOW-UPS
function handleMemoryFollowUps(lowerMsg){
  const numMatch = lowerMsg.match(/\b\d+\b/);

  // Stump count after stump topic
  if (numMatch && memory.lastTopic === 'stumps'){
    memory.stumps = numMatch[0];
    return `Got it — we'll note that you have ${memory.stumps} stump(s). If you’d like pricing, just ask for a quote or say “how much”.`;
  }

  // Tree count after tree topic
  if (numMatch && memory.lastTopic === 'trees'){
    memory.trees = numMatch[0];
    return `Thanks — we'll note that you're asking about ${memory.trees} tree(s). If you’d like a free estimate, ask for a quote or say “how much”.`;
  }

  // City mention after location topic
  if (memory.lastTopic === 'location'){
    const cityMatch = lowerMsg.match(/charlotte|matthews|mint hill|pineville|concord|harrisburg/);
    if (cityMatch){
      memory.city = cityMatch[0];
      return `Yes, we service ${capitalize(memory.city)} and the surrounding area.`;
    }
  }

  return null;
}

// RULE-BASED RESPONSE (NO CATCH-ALL HERE)
function findResponse(msg){
  for (let r of rules){
    for (let k of r.keywords){
      if (msg.includes(k)){
        if (r.topic) memory.lastTopic = r.topic;
        return r.response;
      }
    }
  }
  return null; // no rule hit
}

// CATCH-ALL LOGIC WITH PHONE REDIRECT AFTER 2 HITS
function catchAllResponse(){
  catchAllCounter++;

  if (catchAllCounter === 1){
    return "I can help with anything tree-related — removal, trimming, stump grinding, or storm cleanup. Tell me a bit more about the project.";
  }

  if (catchAllCounter === 2){
    return "No worries — it might be easier to talk with someone directly. You can call us anytime at (704) 641-2888. We’re available 24/7!";
  }

  return "Feel free to call us anytime at (704) 641-2888 — we’re here 24/7 to help!";
}

// SEND MESSAGE PIPELINE
function sendMessage(){
  const msg = chatInput.value.trim();
  if (!msg) return;

  const lower = msg.toLowerCase();

  chatBody.innerHTML += `<div><b>You:</b> ${msg}</div>`;
  chatInput.value = "";

  let res = null;

  // 1) Memory-based follow-ups first
  res = handleMemoryFollowUps(lower);

  // 2) Smart price detection overrides everything else
  if (!res && isPriceIntent(lower)){
    memory.lastTopic = 'quote';
    catchAllCounter = 0;
    res = priceResponse;
  }

  // 3) Rule-based response if still nothing
  if (!res){
    res = findResponse(lower);
    if (res) {
      // reset catch-all streak when we hit a known rule
      catchAllCounter = 0;
    }
  }

  // 4) Catch-all if nothing matched at all
  if (!res){
    res = catchAllResponse();
  }

  setTimeout(()=>{
    chatBody.innerHTML += `<div><b>Bot:</b> ${res}</div>`;
    chatBody.scrollTop = chatBody.scrollHeight;
  }, 250);
}

chatSend.onclick = () => sendMessage();
chatInput.onkeypress = e => { if(e.key === "Enter") sendMessage(); };
</script>

</body>
</html>
