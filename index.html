<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bramos Tree Solution | Charlotte NC Tree Service</title>

<!-- Tree Favicon -->
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/808/808569.png">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:#0b0b0b;color:#fff;overflow-x:hidden;}

/* HEADER */
header{
  background:rgba(0,0,0,0.7);
  backdrop-filter:blur(8px);
  padding:15px 0;
  position:sticky;
  top:0;
  z-index:1000;
}
.container{
  width:92%;
  max-width:1200px;
  margin:auto;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.logo{
  font-size:1.8em;
  font-weight:800;
  color:#00ff64;
  text-shadow:0 0 10px #00ff64;
}
nav ul{list-style:none;display:flex;gap:25px;}
nav a{color:#fff;text-decoration:none;font-weight:500;transition:0.3s;}
nav a:hover{color:#00ff64;text-shadow:0 0 10px #00ff64;}

.hamburger{display:none;flex-direction:column;gap:6px;cursor:pointer;}
.hamburger span{width:28px;height:3px;background:#00ff64;}

/* HERO */
.hero{
  height:85vh;
  background:#111;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}
.hero::after{
  content:'';
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.5);
  z-index:1;
}
.hero-content{
  position:relative;
  z-index:5;
  text-align:center;
  padding:20px;
  animation:fadeIn 1.5s ease;
}
.hero h1{
  font-size:3rem;
  font-weight:800;
  text-shadow:0 0 15px #00ff64;
}
.hero p{
  margin:15px 0;
  font-size:1.2rem;
  opacity:0.9;
}

/* HERO BUTTON */
.btn{
  margin-top:10px;
  background:linear-gradient(90deg,#00ff64,#009944);
  padding:15px 28px;
  border:none;
  font-size:1.1rem;
  font-weight:600;
  color:#000;
  border-radius:8px;
  cursor:pointer;
  box-shadow:0 0 20px #00ff64;
  transition:0.3s;
}
.btn:hover{
  transform:scale(1.05);
  box-shadow:0 0 30px #00ff64;
}

/* SECTIONS */
section{padding:70px 0;text-align:center;}
h2{
  font-size:2.2rem;
  font-weight:700;
  margin-bottom:25px;
  color:#00ff64;
  text-shadow:0 0 10px #00ff64;
}

/* WORK GRID */
.grid{
  width:90%;
  max-width:1100px;
  margin:auto;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:25px;
}
.placeholder-box{
  width:100%;
  height:200px;
  background:#1d1d1d;
  border:2px dashed #00ff64;
  border-radius:12px;
  box-shadow:0 0 15px rgba(0,255,100,0.2);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.1rem;
  color:#00ff64;
  opacity:0.7;
  transition:.3s;
}
.placeholder-box:hover{
  opacity:1;
  transform:scale(1.03);
  box-shadow:0 0 25px #00ff64;
}

/* FOOTER */
footer{
  background:#111;
  padding:25px 0;
  text-align:center;
  margin-top:50px;
  border-top:1px solid #00ff64;
}

/* CHAT WIDGET */
.chat-widget{
  position:fixed;
  bottom:20px !important;
  right:20px !important;
  width:320px;
  background:#111;
  border:1px solid #00ff64;
  border-radius:12px;
  box-shadow:0 0 25px rgba(0,255,100,0.4);
  overflow:hidden;
  z-index:900;
  transition:0.3s ease;
}

/* UNREAD BADGE */
.chat-badge {
  position:absolute;
  top:8px;
  right:8px;
  background:#ff3b3b;
  color:#fff;
  font-weight:700;
  padding:3px 8px;
  border-radius:50%;
  font-size:0.8rem;
  display:none;
  z-index:999;
  box-shadow:0 0 10px #ff3b3b;
}

.chat-widget.minimized .chat-badge {
  display:block;
}

.chat-widget.minimized{
  height:55px;
  width:170px;
  cursor:pointer;
  overflow:hidden;
}

/* CHAT HEADER */
.chat-header{
  background:#00ff64;
  color:#000;
  padding:12px;
  font-weight:700;
  text-align:center;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.chat-header button{
  background:#000;
  color:#00ff64;
  border:none;
  font-weight:800;
  cursor:pointer;
  padding:3px 8px;
  border-radius:5px;
}

/* CHAT BODY */
.chat-body{
  height:250px;
  overflow-y:auto;
  padding:12px;
}

/* CHAT INPUT */
.chat-input{display:flex;}
.chat-input input{
  flex:1;
  padding:12px;
  background:#222;
  border:none;
  color:#fff;
}
.chat-input button{
  background:#00ff64;
  border:none;
  padding:12px 18px;
  cursor:pointer;
  font-weight:600;
}

/* SERVICE CTA BUTTON */
.chat-cta{
  display:inline-block;
  margin-top:10px;
  padding:10px 15px;
  background:#00ff64;
  color:#000;
  font-weight:700;
  border-radius:8px;
  cursor:pointer;
  text-align:center;
  box-shadow:0 0 12px #00ff64;
}
.chat-cta:hover{
  background:#00cc50;
}
</style>
</head>

<body>

<header>
  <div class="container">
    <div class="logo">BRAMOS TREE</div>

    <nav id="nav">
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
        <li><a href="#work">Our Work</a></li>
        <li><a href="contact.html">Get Quote</a></li>
      </ul>
    </nav>

    <div class="hamburger" id="hamburger">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

<section class="hero" id="home">
  <div class="hero-content">
    <h1>Charlotte’s Most Trusted Tree Experts</h1>
    <p>Young • Professional • Fully Insured • Free Estimates</p>

    <button class="btn" onclick="window.location.href='contact.html'">
      Get a Free Quote
    </button>
  </div>
</section>

<section>
  <h2>Professional. Fast. Reliable.</h2>
  <p style="max-width:850px;margin:auto;font-size:1.1rem;opacity:0.9;">
    Bramos Tree Solution is a young, modern, high-energy tree service company serving all of Charlotte, NC.
    We specialize in safe tree removal, trimming, stump grinding, and emergency storm cleanup — with top-tier customer service.
  </p>
</section>

<section id="work">
  <h2>Our Work</h2>
  <div class="grid">
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
    <div class="placeholder-box"></div>
  </div>
</section>

<footer>
  <p>Bramos Tree Solution • Charlotte, NC • (704) 641-2888</p>
  <p>© 2025 Bramos Tree Solution</p>
</footer>

<!-- CHAT WIDGET -->
<div class="chat-widget minimized" id="chatWidget">

  <!-- UNREAD BADGE -->
  <span class="chat-badge" id="chatBadge">1</span>

  <div class="chat-header">
    <span>Ask A Question</span>
    <button id="toggleChat">-</button>
  </div>

  <div class="chat-body" id="chatBody"></div>

  <div class="chat-input">
    <input type="text" id="chatInput" placeholder="Ask something…">
    <button id="chatSend">Send</button>
  </div>
</div>

<script>
// NAV
document.getElementById('hamburger').onclick = () =>
  document.getElementById('nav').classList.toggle('open');

// CHAT VARIABLES
const chatWidget = document.getElementById('chatWidget');
const chatBadge  = document.getElementById('chatBadge');
const toggleChat = document.getElementById('toggleChat');
const chatBody   = document.getElementById('chatBody');
const chatInput  = document.getElementById('chatInput');
const chatSend   = document.getElementById('chatSend');

let firstInteraction = true;
let unread = true;

// AUTO-MINIMIZE ON LOAD
chatWidget.classList.add('minimized');

// REMOVE BADGE WHEN OPENED
function clearBadge(){
  unread = false;
  chatBadge.style.display = "none";
}

// TIME OF DAY GREETING
function getGreeting(){
  const h = new Date().getHours();
  if (h < 12) return "Good morning!";
  if (h < 18) return "Good afternoon!";
  return "Good evening!";
}

// PRINT USER MESSAGE
function userMsg(text){
  chatBody.innerHTML += `<div><b>You:</b> ${text}</div>`;
  chatBody.scrollTop = chatBody.scrollHeight;
}

// PRINT BOT MESSAGE + SET UNREAD
function botMsg(text){
  chatBody.innerHTML += `<div><b>Bot:</b> ${text}</div>`;
  chatBody.scrollTop = chatBody.scrollHeight;

  if (chatWidget.classList.contains('minimized')){
    unread = true;
    chatBadge.style.display = "block";
    chatBadge.textContent = "1";
  }
}

// AUTO-GREETING (2 MESSAGES)
function sendInitialMessages(){
  const greeting = getGreeting();
  botMsg(greeting);
  botMsg("Are you interested in any of our tree services today?");
}

// SEND INITIAL MESSAGES RIGHT AWAY AFTER LOAD
setTimeout(() => sendInitialMessages(), 1200);

// OPEN CHAT ON CLICK
chatWidget.onclick = e => {
  if (e.target.id !== "toggleChat"){
    chatWidget.classList.remove('minimized');
    clearBadge();
  }
};

// TOGGLE BUTTON
toggleChat.onclick = e => {
  e.stopPropagation();
  chatWidget.classList.toggle('minimized');
  if (!chatWidget.classList.contains('minimized')) clearBadge();
};

// SERVICE INTENT (YES/NO ONLY ON FIRST INTERACTION)
function handleFirstQuestion(msg){
  const m = msg.toLowerCase();

  if (m.includes("yes")){
    botMsg(`Great! Here's a quick link to explore our services:<br><br>
      <div class='chat-cta' onclick="window.location.href='services.html'">View Our Services</div>`);
    firstInteraction = false;
    return true;
  }

  if (m.includes("no")){
    botMsg(`No problem at all! How can I help?
    <br>Try typing: <b>"What are your hours?"</b>`);
    firstInteraction = false;
    return true;
  }

  return false;
}

// RULE ENGINE + MEMORY
const memory = { lastTopic:null, trees:null, stumps:null, city:null };
let catchAllCounter = 0;

function isPriceIntent(msg){
  const t=msg.toLowerCase();
  const priceWords=[
    "quote","estimate","price","cost","how much","budget","dollars","bucks",
    "affordable","expensive","rate","rates","fee","fees","charge","charges"
  ];
  for(const w of priceWords){ if(t.includes(w)) return true; }
  if(t.includes("$")) return true;
  const num=/\b\d+\b/.test(t);
  if(num && (t.includes("tree")||t.includes("stump"))) return true;
  return false;
}

const priceResponse =
  "We provide FREE estimates. A team member will get back to you shortly.<br><br>" +
  "<div class='chat-cta' onclick=\"window.location.href='contact.html'\">Get a Free Quote</div>";

const rules=[

  {keywords:["remove","tree removal","cut down"],topic:"trees",
    response:"We offer safe, insured tree removal. How many trees are you dealing with?"},

  {keywords:["trim","trimming","prune","shaping"],topic:"trees",
    response:"We provide professional trimming and shaping. Are you trimming one tree or several?"},

  {keywords:["stump","grind","grinding"],topic:"stumps",
    response:"We grind stumps below ground level. How many stumps do you have?"},

  {keywords:[
    "service","services","tree service","tree services",
    "what do you do","what services do you offer",
    "your services","types of work","list of services",
    "do you do tree service"
  ],topic:"services",
    response:"We offer tree removal, trimming, stump grinding, and 24/7 emergency storm cleanup. What type of project do you need help with?"},

  {keywords:["storm","fallen","emergency","wind"],topic:"emergency",
    response:"We offer 24/7 storm cleanup. Did the tree fall on anything or block a driveway?"},

  {keywords:["insured","insurance","licensed","bonded"],topic:"insurance",
    response:"Yes — we are fully insured for residential and commercial projects."},

  {keywords:["area","location","service area","serve","where","located","near","around"],
    topic:"location",
    response:"We service Charlotte, Matthews, Mint Hill, Pineville, Concord, Harrisburg, and nearby areas."},

  {keywords:["charlotte","matthews","mint hill","pineville","concord","harrisburg"],
    topic:"location",
    response:"Yes, we service your area and most of the greater Charlotte region."},

  {keywords:["hours","open","close","availability","available","when open","time open","time close"],
    topic:"hours",
    response:"We’re available 24/7 for all tree work and storm emergencies."},

  {keywords:["schedule","time","when","day","tomorrow","today"],
    topic:"schedule",
    response:"We’re flexible and can usually work around your schedule. What day works best for you?"},

  {keywords:["call","phone"],
    topic:"phone",
    response:"You can reach us anytime at (704) 641-2888."},

  {keywords:["hello","hi","hey"],
    topic:"greeting",
    response:"Hi there! How can we help with your trees today?"}
];

function handleMemory(msg){
  const m=msg.toLowerCase();
  const num=m.match(/\b\d+\b/);

  if(num && memory.lastTopic==="stumps"){
    memory.stumps=num[0];
    return `Got it — we'll note ${memory.stumps} stump(s). If you want pricing, just ask for a quote.`;
  }

  if(num && memory.lastTopic==="trees"){
    memory.trees=num[0];
    return `Thanks — ${memory.trees} tree(s). If you'd like a free estimate, ask for a quote.`;
  }

  if(memory.lastTopic==="location"){
    const city=m.match(/charlotte|matthews|mint hill|pineville|concord|harrisburg/);
    if(city){
      memory.city=city[0];
      return `Yes, we service ${city[0]} and nearby areas.`;
    }
  }

  return null;
}

function findRule(msg){
  const m=msg.toLowerCase();
  for(const r of rules){
    for(const k of r.keywords){
      if(m.includes(k)){
        memory.lastTopic=r.topic;
        return r.response;
      }
    }
  }
  return null;
}

function catchAll(){
  catchAllCounter++;
  if(catchAllCounter===1)
    return "I can help with removal, trimming, stump grinding, or storm cleanup. Tell me a bit more.";
  if(catchAllCounter===2)
    return "If you'd rather talk to a real person, call anytime at (704) 641-2888.";
  return "You can reach us anytime at (704) 641-2888 — we're available 24/7.";
}

// SEND MESSAGE PIPELINE
function sendMessage(){
  const msg=chatInput.value.trim();
  if(!msg) return;

  userMsg(msg);
  chatInput.value="";

  // First-interaction YES/NO logic
  if(firstInteraction){
    if(handleFirstQuestion(msg)) return;
    // If irrelevant answer, still break out of first interaction
    firstInteraction = false;
  }

  const mem=handleMemory(msg);
  if(mem){ botMsg(mem); return; }

  if(isPriceIntent(msg)){
    catchAllCounter=0;
    botMsg(priceResponse);
    return;
  }

  const rule=findRule(msg);
  if(rule){
    catchAllCounter=0;
    botMsg(rule);
    return;
  }

  botMsg(catchAll());
}

chatSend.onclick=sendMessage;
chatInput.onkeypress=e=>{if(e.key==="Enter")sendMessage();};

</script>

</body>
</html>
